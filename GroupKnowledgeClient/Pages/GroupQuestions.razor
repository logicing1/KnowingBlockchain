@page "/group/questions/{GroupAddress}"
@layout MainLayout

@inject IGroupsService _groupsService;
@inject IBreadcrumbService _breadcrumbService;

<MudToolBar>
    <MudText Typo="Typo.h4">@GroupName</MudText>
    <MudSpacer />
    <MudFab Color="Color.Primary" Icon="@Icons.Material.Filled.AddComment" IconSize="Size.Small" Label="New Question" Class="mb-4" />
</MudToolBar>
<MudDivider Class="mb-5"/>
<MudGrid>
    @foreach (var question in Questions)
    {
        <MudItem xs="12" sm="8">
            <QuestionCard Question="@question" />
        </MudItem>
    }
</MudGrid>

@code {
    [Parameter]
    public string GroupAddress { get; set; } = string.Empty;

    private string GroupName => _groupsService.Groups[GroupAddress];

    protected override void OnAfterRender(bool firstRender)
    {
        _breadcrumbService.Pop();
        if (string.IsNullOrEmpty(GroupName)) return;
        _breadcrumbService.Push(GroupName, "/questions/{GroupName}");
    }

    private string[] Questions = new[] 
    {
        "Why did the chicken cross the road?",
        "Where does the rain in Spain mainly fall?"
    };

 
}